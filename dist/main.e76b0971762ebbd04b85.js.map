{"version":3,"sources":["webpack:///main.e76b0971762ebbd04b85.js","webpack:///./src/api/userApi.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/api/baseUrl.js","webpack:///./src/index.js"],"names":["webpackJsonp","module","exports","__webpack_require__","getUsers","get","deleteUser","id","del","url","fetch","baseUrl","then","onSuccess","onError","request","Request","method","resp","json","error","console","log","Object","defineProperty","value","_baseUrl","_baseUrl2","obj","__esModule","default","g","this","Function","eval","e","window","getBaseUrl","getQueryStringParameterByName","name","location","href","replace","regex","RegExp","results","exec","decodeURIComponent","global","_userApi","result","usersBody","forEach","user","firstName","lastName","email","document","getElementById","innerHTML","deleteLinks","getElementsByClassName","Array","from","link","onclick","event","element","target","preventDefault","attributes","row","parentNode","removeChild","call"],"mappings":"AAAAA,cAAc,IACP,CAED,SAAUC,EAAQC,EAASC,GAEjC,YCAO,SAASC,KACf,MAAOC,GAAI,SAGL,QAASC,GAAWC,GAC1B,MAAOC,YAAaD,GAGrB,QAASF,GAAII,GACZ,MAAOC,OAAMC,EAAUF,GAAKG,KAAKC,EAAWC,GAI7C,QAASN,GAAIC,GACZ,GAAMM,GAAU,GAAIC,SAAQL,EAAUF,GACrCQ,OAAQ,UAET,OAAOP,OAAMK,GAASH,KAAKC,EAAWC,GAGvC,QAASD,GAAUK,GAClB,MAAOA,GAAKC,OAGb,QAASL,GAAQM,GAChBC,QAAQC,IAAIF,GDtBbG,OAAOC,eAAetB,EAAS,cAC9BuB,OAAO,IAERvB,ECNgBE,WDOhBF,ECHgBI,aAThBH,EAAA,EACA,IAAAuB,GAAAvB,EAAA,GDiBIwB,EAEJ,SAAgCC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,IAFhDF,GCfjCf,GAAU,EAAAgB,EAAAG,YDmDV,SAAU7B,EAAQC,KAMlB,SAAUD,EAAQC,GE5DxB,GAAA6B,EAGAA,GAAA,WACA,MAAAC,QAGA,KAEAD,KAAAE,SAAA,qBAAAC,MAAA,QACC,MAAAC,GAED,gBAAAC,UACAL,EAAAK,QAOAnC,EAAAC,QAAA6B,GFmEM,SAAU9B,EAAQC,EAASC,GAEjC,YGzFe,SAASkC,KACvB,MAAOC,GAA8B,cAAgB,yBAA2B,+BAGjF,QAASA,GAA8BC,EAAM9B,GACvCA,IAAKA,EAAM2B,OAAOI,SAASC,MAChCF,EAAOA,EAAKG,QAAQ,UAAW,OAC/B,IAAIC,GAAQ,GAAIC,QAAO,OAASL,EAAO,qBACtCM,EAAUF,EAAMG,KAAKrC,EACtB,OAAKoC,GACAA,EAAQ,GACNE,mBAAmBF,EAAQ,GAAGH,QAAQ,MAAO,MAD5B,GADH,KHmFtBnB,OAAOC,eAAetB,EAAS,cAC9BuB,OAAO,IAERvB,EAAQ4B,QG/FgBO,GHgHlB,SAAUpC,EAAQC,EAASC,GAEjC,cAC4B,SAAS6C,GInHrC7C,EAAA,EACA,IAAA8C,GAAA9C,EAAA,IAGA,EAAA8C,EAAA7C,YAAWQ,KAAK,SAAAsC,GACf,GAAIC,GAAY,EAEhBD,GAAOE,QAAQ,SAAAC,GACdF,2CAC+BE,EAAK9C,GADpC,mDAEU8C,EAAK9C,GAFf,oBAGU8C,EAAKC,UAHf,oBAIUD,EAAKE,SAJf,oBAKUF,EAAKG,MALf,uBAQDR,EAAOS,SAASC,eAAe,SAASC,UAAYR,CAEpD,IAAMS,GAAcZ,EAAOS,SAASI,uBAAuB,aAI3DC,OAAMC,KAAKH,EAAa,SAAAI,GACvBA,EAAKC,QAAU,SAASC,GACvB,GAAMC,GAAUD,EAAME,MACtBF,GAAMG,kBACN,EAAApB,EAAA3C,YAAW6D,EAAQG,WAAW,WAAW7C,MACzC,IAAM8C,GAAMJ,EAAQK,WAAWA,UAC/BD,GAAIC,WAAWC,YAAYF,UJoHDG,KAAKxE,EAASC,EAAoB,OAG5D","file":"main.e76b0971762ebbd04b85.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */,\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.getUsers = getUsers;\nexports.deleteUser = deleteUser;\n\n__webpack_require__(0);\n\nvar _baseUrl = __webpack_require__(4);\n\nvar _baseUrl2 = _interopRequireDefault(_baseUrl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar baseUrl = (0, _baseUrl2.default)();\n\nfunction getUsers() {\n\treturn get('users');\n}\n\nfunction deleteUser(id) {\n\treturn del('users/' + id);\n}\n\nfunction get(url) {\n\treturn fetch(baseUrl + url).then(onSuccess, onError);\n}\n\n// Can't call func delete since reserved word.\nfunction del(url) {\n\tvar request = new Request(baseUrl + url, {\n\t\tmethod: 'DELETE'\n\t});\n\treturn fetch(request).then(onSuccess, onError);\n}\n\nfunction onSuccess(resp) {\n\treturn resp.json();\n}\n\nfunction onError(error) {\n\tconsole.log(error); // eslint-disable-line no-console\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = getBaseUrl;\nfunction getBaseUrl() {\n\treturn getQueryStringParameterByName('useMockApi') ? 'http://localhost:3001/' : 'https://ildem.herokuapp.com/';\n}\n\nfunction getQueryStringParameterByName(name, url) {\n\tif (!url) url = window.location.href;\n\tname = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n\tvar regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n\t    results = regex.exec(url);\n\tif (!results) return null;\n\tif (!results[2]) return '';\n\treturn decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\n__webpack_require__(2);\n\nvar _userApi = __webpack_require__(1);\n\n// Populate table of users via API call.\n(0, _userApi.getUsers)().then(function (result) {\n\tvar usersBody = \"\";\n\n\tresult.forEach(function (user) {\n\t\tusersBody += '<tr>\\n      <td><a href=\"#\" data-id=\"' + user.id + '\" class=\"deleteUser\">Delete</a></td>\\n      <td>' + user.id + '</td>\\n      <td>' + user.firstName + '</td>\\n      <td>' + user.lastName + '</td>\\n      <td>' + user.email + '</td>\\n      </tr>';\n\t});\n\tglobal.document.getElementById('users').innerHTML = usersBody;\n\n\tvar deleteLinks = global.document.getElementsByClassName('deleteUser');\n\n\t// Must use array.from to create a real array from a DOM collection\n\t// getElementsByClassname only returns an \"array like\" object\n\tArray.from(deleteLinks, function (link) {\n\t\tlink.onclick = function (event) {\n\t\t\tvar element = event.target;\n\t\t\tevent.preventDefault();\n\t\t\t(0, _userApi.deleteUser)(element.attributes[\"data-id\"].value);\n\t\t\tvar row = element.parentNode.parentNode;\n\t\t\trow.parentNode.removeChild(row);\n\t\t};\n\t});\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)))\n\n/***/ })\n],[5]);\n\n\n// WEBPACK FOOTER //\n// main.e76b0971762ebbd04b85.js","import 'whatwg-fetch';\nimport getBaseUrl from './baseUrl';\n\nconst baseUrl = getBaseUrl();\n\nexport function getUsers() {\n\treturn get('users');\n}\n\nexport function deleteUser(id) {\n\treturn del(`users/${id}`);\n}\n\nfunction get(url) {\n\treturn fetch(baseUrl + url).then(onSuccess, onError);\n}\n\n// Can't call func delete since reserved word.\nfunction del(url) {\n\tconst request = new Request(baseUrl + url, {\n\t\tmethod: 'DELETE'\n\t});\n\treturn fetch(request).then(onSuccess, onError);\n}\n\nfunction onSuccess(resp) {\n\treturn resp.json();\n}\n\nfunction onError(error) {\n\tconsole.log(error); // eslint-disable-line no-console\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/userApi.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 3\n// module chunks = 0","export default function getBaseUrl() {\n\treturn getQueryStringParameterByName('useMockApi') ? 'http://localhost:3001/' : 'https://ildem.herokuapp.com/';\n}\n\nfunction getQueryStringParameterByName(name, url) {\n\tif (!url) url = window.location.href;\n\tname = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n\tvar regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n\t\tresults = regex.exec(url);\n\tif (!results) return null;\n\tif (!results[2]) return '';\n\treturn decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/baseUrl.js","import './index.css';\nimport {getUsers, deleteUser} from './api/userApi';\n\n// Populate table of users via API call.\ngetUsers().then(result => {\n\tlet usersBody = \"\";\n\t\n\tresult.forEach(user => {\n\t\tusersBody+= `<tr>\n      <td><a href=\"#\" data-id=\"${user.id}\" class=\"deleteUser\">Delete</a></td>\n      <td>${user.id}</td>\n      <td>${user.firstName}</td>\n      <td>${user.lastName}</td>\n      <td>${user.email}</td>\n      </tr>`\n\t});\n\tglobal.document.getElementById('users').innerHTML = usersBody;\n\t\n\tconst deleteLinks = global.document.getElementsByClassName('deleteUser');\n\t\n\t// Must use array.from to create a real array from a DOM collection\n\t// getElementsByClassname only returns an \"array like\" object\n\tArray.from(deleteLinks, link => {\n\t\tlink.onclick = function(event) {\n\t\t\tconst element = event.target;\n\t\t\tevent.preventDefault();\n\t\t\tdeleteUser(element.attributes[\"data-id\"].value);\n\t\t\tconst row = element.parentNode.parentNode;\n\t\t\trow.parentNode.removeChild(row);\n\t\t};\n\t});\n\t\n});\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}